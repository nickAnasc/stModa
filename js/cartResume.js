setTimeout(function(){var t=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),a="/web_api/cart/"+document.querySelector("html").dataset.session,e=[],r=document.querySelector(".cart-content"),c=document.querySelector(".total-content .total"),n=0;fetch(a).then(function(a){a.ok&&a.json().then(function(a){a.forEach(a=>{n+=a.Cart.price*a.Cart.quantity;var r=['<article class="cart-item" data-valueTotal="'+a.Cart.price*a.Cart.quantity+'"><i class="fas fa-trash-alt delete-prod" onclick="deleteProduct('+a.Cart.product_id+","+a.Cart.variant_id+","+a.Cart.price*a.Cart.quantity+","+a.Cart.quantity+',this)"></i><img class="img-cart-resume" src="'+a.Cart.product_image.https+'"><div class="width-space"><p class="nome-product"><a href="'+a.Cart.product_url.https+'">'+a.Cart.product_name+'</a></p><div class="cart-item__flex"><span class="price-cart-resume">'+t.format(a.Cart.price)+'</span><span class="qtde-cart-resume">Quantidade <strong class="qtde">'+a.Cart.quantity+"</strong></span></div></div></article>"];e.push(r)}),r.innerHTML=e.join(""),c.innerHTML=t.format(n),c.dataset.fullTotal=n})})},1e3);function deleteProduct(t,a,e,r,c){var n=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),o=document.querySelector("html").dataset.session;fetch(0!=a?"/web_api/carts/"+o+"/"+t+"/"+a:"/web_api/carts/"+o+"/"+t,{method:"DELETE",contentType:"application/json; charset=utf-8"}).then(function(t){var a=document.querySelector(".total-content .total"),o=a.dataset.fullTotal=a.dataset.fullTotal-e,s=document.querySelector('.cart-amount span[data-cart="amount"]');a.innerHTML=n.format(o),s.innerHTML=s.textContent-r,c.closest(".cart-item").style.opacity="0",setTimeout(function(){c.closest(".cart-item").remove()},300),0==s.textContent&&(document.querySelector(".cart-content").innerHTML='<p class="empty-cart">Carrinho Vazio.</p>')})}